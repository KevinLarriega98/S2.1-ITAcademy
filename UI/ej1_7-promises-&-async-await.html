<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 1.7: Promises & Async/Await</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>

<body>
    <h1>Exercise 1.7: Promises & Async/Await</h1>

    <pre>
        <code class="language-javascript">
            //Exercise 1
            const waitForGreeting = () => {
                return new Promise(resolve => {
                    setTimeout(() => resolve("Hello, world"), 2000)
                })
            }
        </code>
    </pre>

    <pre>
        <code class="language-javascript">
            //Exercise 2
            waitForGreeting()
                .then(message => {
                    console.log("Exercise 2:", message)
                })
                .catch(error => {
                    console.error("Exercise 2 - Error:", error)
                })
        </code>
    </pre>

    <pre>
        <code class="language-javascript">
            //Exercise 3
            const greeting = (text) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (text === 'Hello') {
                            resolve(text)
                        } else {
                            reject("This is not a valid greeting")
                        }
                    }, 2000)
                })
            }

            greeting('Hello')
                .then(message => {
                    console.log("Exercise 3:", message)
                })
                .catch(error => {
                    console.error("Exercise 3 - Error:", error)
                })
        </code>
    </pre>

    <pre>
        <code class="language-javascript">
            //Exercise 4
            async function mostrargreetingAsync() {
                try {
                    const message = await waitForGreeting()
                    console.log("Exercise 4:", message)
                } catch (error) {
                    console.error("Exercise 4 - Error:", error.message)
                }
            }

            mostrargreetingAsync()
        </code>
    </pre>

    <pre>
        <code class="language-javascript">
            //Exercise 5
            async function showGreetingAsyncTryCatch() {
                try {
                    const message = await waitForGreeting()
                    console.log("Exercise 5:", message)
                } catch (error) {
                    console.error("Exercise 5 - Error:", error.message)
                }
            }

            showGreetingAsyncTryCatch()
        </code>
    </pre>

    <pre>
        <code class="language-javascript">
            //Exercise 6
            const promise1 = new Promise(resolve => {
                setTimeout(() => resolve("Promise 1 says hello"), 2000)
            })

            const promise2 = new Promise(resolve => {
                setTimeout(() => resolve("Promise 2 says goodbye"), 3000)
            })

            Promise.all([promise1, promise2])
                .then(res => {
                    console.log("Exercise 6:", res)
                })
                .catch(error => {
                    console.error("Exercise 6 - Error:", error)
                })
        </code>
    </pre>

    <div class="buttons">
        <a href="ej1_6-array-loops.html">Previous</a>
        <a href="../index.html">Home</a>
    </div>

    <!-- Highlight.js core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <!-- Cargar lenguaje JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="../Scripts/Ej1.7.js"></script>
</body>

</html>